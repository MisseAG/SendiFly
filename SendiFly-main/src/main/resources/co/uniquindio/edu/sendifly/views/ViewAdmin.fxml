<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx/17.0.12"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="co.uniquindio.edu.sendifly.controllers.ViewAdminController"
      stylesheets="@../css/adminstyle.css"
      styleClass="root-container">

    <!-- HEADER -->
    <HBox styleClass="header" alignment="CENTER_LEFT" spacing="15">
        <padding>
            <Insets left="15" right="15" top="10" bottom="10"/>
        </padding>

        <!-- Logo -->
        <ImageView fitHeight="45" fitWidth="110" preserveRatio="true">
            <image>
                <Image url="@../images/SENDIFLY.png" />
            </image>
        </ImageView>

        <!-- Spacer -->
        <Region HBox.hgrow="ALWAYS" />

        <!-- T칤tulo -->
        <Label text="Panel de Administraci칩n" styleClass="header-title">
            <font>
                <Font name="System Bold" size="16.0" />
            </font>
        </Label>

        <!-- Spacer -->
        <Region HBox.hgrow="ALWAYS" />

        <!-- Men칰 de Usuario -->
        <MenuButton text="游녻" styleClass="user-menu">
            <items>
                <MenuItem fx:id="menuProfile" text="丘뙖잺 Configurar Perfil" onAction="#handleProfile"/>
                <MenuItem fx:id="menuLogout" text="游뛁 Cerrar Sesi칩n" onAction="#handleLogout"/>
            </items>
        </MenuButton>
    </HBox>

    <!-- CONTENIDO: Nav + Dashboard -->
    <SplitPane dividerPositions="0.25" VBox.vgrow="ALWAYS" styleClass="split-container">

        <!-- PANEL LATERAL DE NAVEGACI칍N -->
        <VBox styleClass="nav-panel" spacing="0">

            <!-- T칤tulo de Navegaci칩n -->
            <HBox styleClass="nav-header" alignment="CENTER_LEFT">
                <padding>
                    <Insets top="15" bottom="15" left="15" right="15"/>
                </padding>
                <Label text="游늶 Navegaci칩n" styleClass="nav-title">
                    <font>
                        <Font name="System Bold" size="16.0" />
                    </font>
                </Label>
            </HBox>

            <!-- Accordion de Navegaci칩n -->
            <Accordion VBox.vgrow="ALWAYS" styleClass="nav-accordion">
                <panes>
                <!-- Gesti칩n de Usuarios -->
                <TitledPane text="游논 Gesti칩n Usuarios" styleClass="nav-section">
                    <VBox spacing="8" styleClass="nav-buttons-container">
                        <padding>
                            <Insets top="10" bottom="10" left="10" right="10"/>
                        </padding>
                        <Button fx:id="btnClientes" text="游녻 Clientes"
                                styleClass="nav-button" maxWidth="Infinity"
                                onAction="#handleClientes"/>
                        <Button fx:id="btnRepartidores" text="游뚴 Repartidores"
                                styleClass="nav-button" maxWidth="Infinity"
                                onAction="#handleRepartidores"/>
                    </VBox>
                </TitledPane>

                <!-- Gesti칩n de Env칤os -->
                <TitledPane text="游닍 Gesti칩n Env칤os" styleClass="nav-section">
                    <VBox spacing="8" styleClass="nav-buttons-container">
                        <padding>
                            <Insets top="10" bottom="10" left="10" right="10"/>
                        </padding>
                        <Button fx:id="btnCRUD" text="九勇 CRUD Env칤os"
                                styleClass="nav-button" maxWidth="Infinity"
                                onAction="#handleCRUD"/>
                        <Button fx:id="btnConsultar" text="游댌 Consultar Env칤o"
                                styleClass="nav-button" maxWidth="Infinity"
                                onAction="#handleConsultar"/>
                        <Button fx:id="btnAsignar" text="游늷 Asignar Env칤o"
                                styleClass="nav-button" maxWidth="Infinity"
                                onAction="#handleAsignar"/>
                    </VBox>
                </TitledPane>

                <!-- Charts -->
                <TitledPane animated="false" text="游늵 Estad칤sticas" styleClass="nav-section">
                    <content>
                        <VBox spacing="8" styleClass="nav-buttons-container">
                            <padding>
                                <Insets top="10" bottom="10" left="10" right="10"/>
                            </padding>
                            <Button fx:id="btnChart1" text="游늳 Env칤os Mensuales"
                                    styleClass="nav-button" maxWidth="Infinity"
                                    onAction="#handleChart1"/>
                            <Button fx:id="btnChart2" text="游늴 Top Rutas"
                                    styleClass="nav-button" maxWidth="Infinity"
                                    onAction="#handleChart2"/>
                            <Button fx:id="btnChart3" text="游늵 Rendimiento"
                                    styleClass="nav-button" maxWidth="Infinity"
                                    onAction="#handleChart3"/>
                        </VBox>
                    </content>
                </TitledPane>
                </panes>
            </Accordion>
        </VBox>

        <!-- 츼REA DIN츼MICA (DASHBOARD) -->
        <VBox styleClass="dashboard-container">

            <!-- T칤tulo del Dashboard -->
            <HBox styleClass="dashboard-header" alignment="CENTER_LEFT">
                <padding>
                    <Insets top="15" bottom="15" left="20" right="20"/>
                </padding>
                <Label fx:id="dashboardTitle" text="游 Dashboard" styleClass="dashboard-title">
                    <font>
                        <Font name="System Bold" size="18.0" />
                    </font>
                </Label>
            </HBox>

            <!-- Contenedor Din치mico -->
            <ScrollPane fitToWidth="true" fitToHeight="true" VBox.vgrow="ALWAYS"
                        styleClass="dashboard-scroll">
                <StackPane fx:id="contenedorDinamico" styleClass="contenedor-dinamico">
                    <padding>
                        <Insets top="20" bottom="20" left="20" right="20"/>
                    </padding>

                    <!-- Contenido por defecto (Dashboard inicial) -->
                    <VBox alignment="CENTER" spacing="20">
                        <Label text="Bienvenido al Panel de Administraci칩n"
                               styleClass="welcome-title">
                            <font>
                                <Font name="System Bold" size="20.0" />
                            </font>
                        </Label>
                        <Label text="Selecciona una opci칩n del men칰 lateral"
                               styleClass="welcome-subtitle">
                            <font>
                                <Font size="14.0" />
                            </font>
                        </Label>
                    </VBox>

                </StackPane>
            </ScrollPane>
        </VBox>

    </SplitPane>

</VBox>